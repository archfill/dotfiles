# =============================================
# 基本設定
# =============================================

# prefixキーをC-aに変更する
set -g prefix C-a

# C-bのキーバインドを解除する
unbind C-b

# キーストロークのディレイを減らす
set -sg escape-time 1

# ウィンドウのインデックスを1から始める
set -g base-index 1

# ペインのインデックスを1から始める
setw -g pane-base-index 1

# マウス操作を有効にする
setw -g mouse on

# 256色端末を使用する
set -g default-terminal "screen-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"

# ステータスバーを設定する
set-option -g status on
set-option -g status-left-length 100
set-option -g status-right-length 120
set-option -g status-interval 1
set-option -g status-justify centre
set-option -g status-position top

# ヴィジュアルノーティフィケーションを有効にする
setw -g monitor-activity on
set-option -g visual-activity on

# ペインボーダーにステータスを表示（Nerd Font対応）
set-option -g pane-border-status top
set-option -g pane-border-format "#[fg=#c0caf5,bg=#414868] #{?pane_active,󰓁,󰄱} #P #[fg=#565f89] #[fg=#7aa2f7]#{b:pane_current_path} #[fg=#9ece6a]#{?#{!=:#{pane_current_command},zsh}, 󰆍 #{pane_current_command},} #[default]"

# コピーモードを設定する
setw -g mode-keys vi

# セッション管理の改善
set-option -g detach-on-destroy off  # セッション終了時に他のセッションに切り替え
set-option -g renumber-windows on    # ウィンドウ番号を自動で詰める

# スクロールバック履歴を増やす
set-option -g history-limit 50000

# フォーカスイベントを有効にする（Neovim等のエディタ用）
set-option -g focus-events on

# クリップボード連携を改善
set-option -s set-clipboard on

# ステータスバーの更新頻度を改善
set-option -g status-interval 5

# ウィンドウとペインの自動リネーム
set-option -g automatic-rename on
set-option -g automatic-rename-format '#{b:pane_current_path}'

# アクティビティ監視の設定
set-option -g monitor-activity on
set-option -g monitor-bell on
set-option -g visual-activity off  # メッセージ表示を無効化（ステータスバーの色変更のみ）
set-option -g visual-bell off

# ペインの境界線設定
set-option -g pane-active-border-style 'fg=#7aa2f7'
set-option -g pane-border-style 'fg=#414868'